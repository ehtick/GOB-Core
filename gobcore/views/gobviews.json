{
  "meetbouten": {
    "meetbouten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT  meetbouten.identificatie",
          "    ,       meetbouten.locatie",
          "    ,       eerste_metingen.datum                                           AS datum",
          "    ,       meest_recente_metingen.hoogte_tov_nap",
          "    ,       meest_recente_metingen.zakkingssnelheid",
          "    ,       meest_recente_metingen.zakking_cumulatief",
          "    ,       status",
          "    ,       meetbouten.geometrie",
          "    ,   json_build_object(",
          "             'identificatie', bouwblokken.identificatie,",
          "             'code', bouwblokken.code",
          "        ) AS _ref_ligt_in_bouwblok_gbd_bbk",
          "    ,   json_build_object(",
          "             'identificatie', buurten.identificatie,",
          "             'code', buurten.code,",
          "             'naam', buurten.naam",
          "        ) AS _ref_ligt_in_buurt_gbd_brt",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gdb_sdl",
          "    ,       nabij_nummeraanduiding AS _ref_nabij_nummeraanduiding_bag_nag",
          "            FROM              meetbouten_meetbouten                         AS meetbouten",
          "            LEFT JOIN (",
          "              SELECT identificatie, code FROM gebieden_bouwblokken",
          "              WHERE eind_geldigheid IS NULL) AS bouwblokken on meetbouten.ligt_in_bouwblok->>'id' = bouwblokken.identificatie",
          "            LEFT JOIN (",
          "              SELECT identificatie, code, naam FROM gebieden_buurten",
          "              WHERE eind_geldigheid IS NULL) AS buurten on meetbouten.ligt_in_buurt->>'id' = buurten.identificatie",
          "            LEFT JOIN (",
          "              SELECT identificatie, code, naam FROM gebieden_stadsdelen",
          "              WHERE eind_geldigheid IS NULL) AS stadsdelen on meetbouten.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "            LEFT JOIN (",
          "              SELECT DISTINCT ON (hoort_bij_meetbout->>'id') * from meetbouten_metingen",
          "              ORDER BY hoort_bij_meetbout->>'id', datum ASC",
          "            ) AS eerste_metingen ON meetbouten._id = eerste_metingen.hoort_bij_meetbout->>'id'",
          "            LEFT JOIN (",
          "              SELECT DISTINCT ON (hoort_bij_meetbout->>'id') * from meetbouten_metingen",
          "              ORDER BY hoort_bij_meetbout->>'id', datum DESC",
          "            ) AS meest_recente_metingen ON meetbouten._id = meest_recente_metingen.hoort_bij_meetbout->>'id'",
          "    WHERE meetbouten.publiceerbaar = TRUE"
        ]
      }
    },
    "metingen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT metingen.identificatie",
          "    ,       datum",
          "    ,       type_meting",
          "    ,       hoogte_tov_nap",
          "    ,       zakking",
          "    ,       zakkingssnelheid",
          "    ,       zakking_cumulatief",
          "    ,       is_gemeten_door",
          "    ,       (hoeveelste_meting - 1)                                   AS hoeveelste_meting",
          "    ,       CASE WHEN aantal_dagen::TEXT = '0' THEN ''::TEXT",
          "                 ELSE aantal_dagen::TEXT",
          "            END                                                       AS aantal_dagen",
          "    ,       wijze_van_inwinnen",
          "    ,       hoort_bij_meetbout                                        AS _ref_hoort_bij_meetbout_mbn_mbt",
          "    ,       refereert_aan_referentiepunten                            AS _mref_refereert_aan_referentiepunten_mbn_rpt",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    FROM  meetbouten_metingen                                         AS metingen",
          "    LEFT JOIN (",
          "            SELECT _id, ligt_in_stadsdeel->>'id' AS ligt_in_stadsdeel FROM meetbouten_meetbouten",
          "    ) AS meetbouten ON metingen.hoort_bij_meetbout->>'id' = meetbouten._id",
          "    LEFT JOIN (",
          "            SELECT identificatie, code, naam FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL) AS stadsdelen on meetbouten.ligt_in_stadsdeel = stadsdelen.identificatie",
          "    WHERE metingen.publiceerbaar = TRUE"
        ]
      }
    },
    "referentiepunten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT identificatie",
          "    ,      geometrie",
          "    ,      hoogte_tov_nap",
          "    ,      datum",
          "    ,      CONCAT_WS(' ', nabij_nummeraanduiding->>'bronwaarde', locatie)       AS locatie",
          "    FROM  meetbouten_referentiepunten",
          "    WHERE publiceerbaar = TRUE"
        ]
      }
    },
    "rollagen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT meetbouten_rollagen.identificatie",
          "    ,       ROW_NUMBER() OVER (order by meetbouten_rollagen.identificatie) AS idx",
          "    ,       ST_centroid(bouwblokken.geometrie) AS geometrie",
          "    FROM  meetbouten_rollagen",
          "        LEFT JOIN",
          "            gebieden_bouwblokken AS bouwblokken",
          "            ON meetbouten_rollagen.identificatie = bouwblokken.code",
          "    ORDER BY meetbouten_rollagen.identificatie"
        ]
      }
    }
  },
  "nap": {
    "peilmerken": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT identificatie",
          "    ,      hoogte_tov_nap",
          "    ,      jaar",
          "    ,      merk",
          "    ,      omschrijving",
          "    ,      windrichting",
          "    ,      x_coordinaat_muurvlak",
          "    ,      y_coordinaat_muurvlak",
          "    ,      rws_nummer",
          "    ,      geometrie",
          "    FROM  nap_peilmerken",
          "    WHERE publiceerbaar = TRUE"
        ]
      }
    }
  },
  "gebieden": {
    "bouwblokken": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        bouwblokken.identificatie",
          "    ,   bouwblokken.code",
          "    ,   bouwblokken.begin_geldigheid",
          "    ,   bouwblokken.eind_geldigheid",
          "    ,   json_build_object(",
          "             'identificatie', buurten.identificatie,",
          "             'code', buurten.code,",
          "             'naam', buurten.naam",
          "        ) AS _ref_ligt_in_buurt_gbd_brt",
          "    ,   json_build_object(",
          "             'identificatie', wijken.identificatie,",
          "             'code', wijken.code,",
          "             'naam', wijken.naam",
          "        ) AS _ref_ligt_in_wijk_gbd_wijk",
          "    ,   json_build_object(",
          "             'identificatie', ggwgebieden.identificatie,",
          "             'code', ggwgebieden.code,",
          "             'naam', ggwgebieden.naam",
          "        ) AS _ref_ligt_in_ggwgebied_gbd_ggw",
          "    ,   json_build_object(",
          "             'identificatie', ggpgebieden.identificatie,",
          "             'code', ggpgebieden.code,",
          "             'naam', ggpgebieden.naam",
          "        ) AS _ref_ligt_in_ggpgebied_gbd_ggp",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', NULL,",
          "             'naam', NULL",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   bouwblokken.geometrie",
          "    FROM",
          "        gebieden_bouwblokken AS bouwblokken",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_wijk",
          "            FROM gebieden_buurten",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS buurten",
          "        ON bouwblokken.ligt_in_buurt->>'id' = buurten.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_stadsdeel",
          "            FROM gebieden_wijken",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS wijken",
          "            ON buurten.ligt_in_wijk->>'id' = wijken.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggwgebieden, jsonb_array_elements(gebieden_ggwgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggwgebieden",
          "            ON bouwblokken.ligt_in_buurt->>'id' = ggwgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggpgebieden, jsonb_array_elements(gebieden_ggpgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggpgebieden",
          "            ON bouwblokken.ligt_in_buurt->>'id' = ggpgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON wijken.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "    WHERE bouwblokken.eind_geldigheid IS NULL",
          "    ORDER BY bouwblokken.code"
        ]
      }
    },
    "buurten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        buurten.identificatie",
          "    ,   buurten.code",
          "    ,   buurten.naam",
          "    ,   buurten.begin_geldigheid",
          "    ,   buurten.eind_geldigheid",
          "    ,   buurten.documentdatum",
          "    ,   buurten.documentnummer",
          "    ,   buurten.cbs_code",
          "    ,   json_build_object(",
          "             'identificatie', wijken.identificatie,",
          "             'code', wijken.code,",
          "             'naam', wijken.naam",
          "        ) AS _ref_ligt_in_wijk_gbd_wijk",
          "    ,   json_build_object(",
          "             'identificatie', ggwgebieden.identificatie,",
          "             'code', ggwgebieden.code,",
          "             'naam', ggwgebieden.naam",
          "        ) AS _ref_ligt_in_ggwgebied_gbd_ggw",
          "    ,   json_build_object(",
          "             'identificatie', ggpgebieden.identificatie,",
          "             'code', ggpgebieden.code,",
          "             'naam', ggpgebieden.naam",
          "        ) AS _ref_ligt_in_ggpgebied_gebieden_ggpgebieden",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', NULL,",
          "             'naam', NULL",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   buurten.geometrie",
          "    FROM",
          "        gebieden_buurten AS buurten",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_stadsdeel",
          "            FROM gebieden_wijken",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS wijken",
          "            ON buurten.ligt_in_wijk->>'id' = wijken.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggwgebieden, jsonb_array_elements(gebieden_ggwgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggwgebieden",
          "            ON buurten.identificatie = ggwgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggpgebieden, jsonb_array_elements(gebieden_ggpgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggpgebieden",
          "            ON buurten.identificatie = ggpgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON wijken.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "    WHERE buurten.eind_geldigheid IS NULL",
          "    ORDER BY buurten.code"
        ]
      }
    },
    "wijken": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        wijken.identificatie",
          "    ,   wijken.code",
          "    ,   wijken.naam",
          "    ,   wijken.begin_geldigheid",
          "    ,   wijken.eind_geldigheid",
          "    ,   wijken.documentdatum",
          "    ,   wijken.documentnummer",
          "    ,   wijken.cbs_code",
          "    ,   json_build_object(",
          "             'identificatie', ggwgebieden.identificatie,",
          "             'code', ggwgebieden.code,",
          "             'naam', ggwgebieden.naam",
          "        ) AS _ref_ligt_in_ggwgebied_gbd_ggw",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', NULL,",
          "             'naam', NULL",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   wijken.geometrie",
          "    FROM",
          "        gebieden_wijken AS wijken",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   geometrie",
          "            FROM gebieden_ggwgebieden",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggwgebieden",
          "            ON ST_WITHIN(wijken.geometrie, ST_BUFFER(ggwgebieden.geometrie, 0.1))",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON wijken.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "    WHERE wijken.eind_geldigheid IS NULL",
          "    ORDER BY wijken.code"
        ]
      }
    },
    "ggwgebieden": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        ggwgebieden.identificatie",
          "    ,   ggwgebieden.code",
          "    ,   ggwgebieden.naam",
          "    ,   ggwgebieden.begin_geldigheid",
          "    ,   ggwgebieden.eind_geldigheid",
          "    ,   ggwgebieden.documentdatum",
          "    ,   ggwgebieden.documentnummer",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', NULL,",
          "             'naam', NULL",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   ggwgebieden.geometrie",
          "    FROM",
          "        gebieden_ggwgebieden AS ggwgebieden",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON ggwgebieden.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "    WHERE ggwgebieden.eind_geldigheid IS NULL",
          "    ORDER BY ggwgebieden.code"
        ]
      }
    },
    "ggpgebieden": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        ggpgebieden.identificatie",
          "    ,   ggpgebieden.code",
          "    ,   ggpgebieden.naam",
          "    ,   ggpgebieden.begin_geldigheid",
          "    ,   ggpgebieden.eind_geldigheid",
          "    ,   ggpgebieden.documentdatum",
          "    ,   ggpgebieden.documentnummer",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', NULL,",
          "             'naam', NULL",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   ggpgebieden.geometrie",
          "    FROM",
          "        gebieden_ggpgebieden AS ggpgebieden",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON ggpgebieden.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "    WHERE ggpgebieden.eind_geldigheid IS NULL",
          "    ORDER BY ggpgebieden.code"
        ]
      }
    },
    "stadsdelen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        stadsdelen.identificatie",
          "    ,   stadsdelen.code",
          "    ,   stadsdelen.naam",
          "    ,   stadsdelen.begin_geldigheid",
          "    ,   stadsdelen.eind_geldigheid",
          "    ,   stadsdelen.documentdatum",
          "    ,   stadsdelen.documentnummer",
          "    ,   json_build_object(",
          "             'identificatie', NULL,",
          "             'naam', NULL",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   stadsdelen.geometrie",
          "    FROM",
          "        gebieden_stadsdelen AS stadsdelen",
          "    WHERE stadsdelen.eind_geldigheid IS NULL",
          "    ORDER BY stadsdelen.code"
        ]
      }
    }
  },
  "bag": {
    "verblijfsobjecten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      vot.identificatie,",
          "      vot.aanduiding_in_onderzoek,",
          "      vot.geconstateerd,",
          "      json_build_object(",
          "        'identificatie', heeft_hoofdadres.identificatie,",
          "        'huisnummer', heeft_hoofdadres.huisnummer,",
          "        'huisletter', heeft_hoofdadres.huisletter,",
          "        'huisnummertoevoeging', heeft_hoofdadres.huisnummertoevoeging,",
          "        'postcode', heeft_hoofdadres.postcode",
          "      ) AS _ref_heeft_hoofdadres_bag_nag,",
          "      json_build_object(",
          "        'identificatie', ligt_aan_openbareruimte.identificatie,",
          "        'naam', ligt_aan_openbareruimte.naam",
          "      ) AS _ref_ligt_aan_openbareruimte_bag_ore,",
          "      json_build_object(",
          "        'identificatie', ligt_in_woonplaats.identificatie,",
          "        'naam', ligt_in_woonplaats.naam",
          "      ) AS _ref_ligt_in_woonplaats_bag_wps,",
          "      json_build_object(",
          "        'identificatie', heeft_nevenadres.identificatie",
          "      ) AS _ref_heeft_nevenadres_bag_nag,",
          "      vot.gebruiksdoel,",
          "      vot.gebruiksdoel_woonfunctie,",
          "      vot.gebruiksdoel_gezondheidszorgfunctie,",
          "      vot.aantal_eenheden_complex,",
          "      vot.feitelijk_gebruik,",
          "      vot.oppervlakte,",
          "      vot.status,",
          "      vot.begin_geldigheid,",
          "      vot.eind_geldigheid,",
          "      vot.documentdatum,",
          "      vot.documentnummer,",
          "      vot.verdieping_toegang,",
          "      vot.toegang,",
          "      vot.aantal_bouwlagen,",
          "      vot.hoogste_bouwlaag,",
          "      vot.laagste_bouwlaag,",
          "      vot.aantal_kamers,",
          "      vot.eigendomsverhouding,",
          "      vot.redenopvoer,",
          "      vot.redenafvoer,",
          "      json_build_object(",
          "        'identificatie', ligt_in_panden.identificatie",
          "      ) AS _ref_ligt_in_panden_bag_pnd,",
          "      json_build_object(",
          "        'identificatie', ligt_in_bouwblok.identificatie,",
          "        'code', ligt_in_bouwblok.code",
          "      ) AS _ref_ligt_in_bouwblok_gbd_bbk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_buurt.identificatie,",
          "        'code', ligt_in_buurt.code,",
          "        'naam', ligt_in_buurt.naam",
          "      ) AS _ref_ligt_in_buurt_gbd_brt,",
          "      json_build_object(",
          "        'identificatie', ligt_in_wijk.identificatie,",
          "        'code', ligt_in_wijk.code,",
          "        'naam', ligt_in_wijk.naam",
          "      ) AS _ref_ligt_in_wijk_gbd_wijk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggwgebied.identificatie,",
          "        'code', ligt_in_ggwgebied.code,",
          "        'naam', ligt_in_ggwgebied.naam",
          "      ) AS _ref_ligt_in_ggwgebied_gbd_ggw,",
          "      json_build_object(",
          "        'identificatie', ligt_in_stadsdeel.identificatie,",
          "        'code', ligt_in_stadsdeel.code,",
          "        'naam', ligt_in_stadsdeel.naam",
          "      ) AS _ref_ligt_in_stadsdeel_gbd_sdl,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggpgebied.identificatie,",
          "        'code', ligt_in_ggpgebied.code,",
          "        'naam', ligt_in_ggpgebied.naam",
          "      ) AS _ref_ligt_in_ggpgebied_gbd_ggp,",
          "      vot.geometrie",
          "    FROM",
          "      bag_verblijfsobjecten AS vot",
          "    -- SELECT heeft_hoofdadres",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_nag.identificatie,",
          "        rel_nag.volgnummer,",
          "        rel_nag.huisnummer,",
          "        rel_nag.huisletter,",
          "        rel_nag.huisnummertoevoeging,",
          "        rel_nag.postcode,",
          "        rel_heeft_hoofdadres.src_id,",
          "        rel_heeft_hoofdadres.src_volgnummer",
          "      FROM rel_bag_vot_bag_nag_heeft_hoofdadres AS rel_heeft_hoofdadres",
          "      LEFT JOIN bag_nummeraanduidingen AS rel_nag",
          "      ON rel_heeft_hoofdadres.dst_id = rel_nag._id AND rel_heeft_hoofdadres.dst_volgnummer = rel_nag.volgnummer",
          "      WHERE rel_heeft_hoofdadres.eind_geldigheid > '2019-06-18' OR rel_heeft_hoofdadres.eind_geldigheid IS NULL",
          "    ) AS heeft_hoofdadres",
          "    ON vot.identificatie = heeft_hoofdadres.src_id and vot.volgnummer = heeft_hoofdadres.src_volgnummer",
          "    -- SELECT ligt_aan_openbareruimte",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_ore.identificatie,",
          "        rel_ore.volgnummer,",
          "        rel_ore.naam,",
          "        rel_ligt_aan_openbareruimte.src_id,",
          "        rel_ligt_aan_openbareruimte.src_volgnummer",
          "      FROM rel_bag_nag_bag_ore_ligt_aan_openbareruimte AS rel_ligt_aan_openbareruimte",
          "      LEFT JOIN bag_openbareruimtes AS rel_ore",
          "      ON rel_ligt_aan_openbareruimte.dst_id = rel_ore._id AND rel_ligt_aan_openbareruimte.dst_volgnummer = rel_ore.volgnummer",
          "      WHERE rel_ligt_aan_openbareruimte.eind_geldigheid > '2019-06-18' OR rel_ligt_aan_openbareruimte.eind_geldigheid IS NULL",
          "    ) AS ligt_aan_openbareruimte",
          "    ON heeft_hoofdadres.identificatie = ligt_aan_openbareruimte.src_id and heeft_hoofdadres.volgnummer = ligt_aan_openbareruimte.src_volgnummer",
          "    -- SELECT ligt_in_woonplaats",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_wps.identificatie,",
          "        rel_wps.volgnummer,",
          "        rel_wps.naam,",
          "        rel_ligt_in_woonplaats.src_id,",
          "        rel_ligt_in_woonplaats.src_volgnummer",
          "      FROM rel_bag_nag_bag_wps_ligt_in_woonplaats AS rel_ligt_in_woonplaats",
          "      LEFT JOIN bag_woonplaatsen AS rel_wps",
          "      ON rel_ligt_in_woonplaats.dst_id = rel_wps._id AND rel_ligt_in_woonplaats.dst_volgnummer = rel_wps.volgnummer",
          "      WHERE rel_ligt_in_woonplaats.eind_geldigheid > '2019-06-18' OR rel_ligt_in_woonplaats.eind_geldigheid IS NULL",
          "      AND rel_ligt_in_woonplaats.dst_id IS NOT NULL",
          "    ) AS ligt_in_woonplaats",
          "    ON heeft_hoofdadres.identificatie = ligt_in_woonplaats.src_id and heeft_hoofdadres.volgnummer = ligt_in_woonplaats.src_volgnummer",
          "    -- SELECT heeft_nevenadres",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_nag2.identificatie,",
          "        rel_nag2.volgnummer,",
          "        rel_heeft_nevenadres.src_id,",
          "        rel_heeft_nevenadres.src_volgnummer",
          "      FROM rel_bag_vot_bag_nag_heeft_nevenadres AS rel_heeft_nevenadres",
          "      LEFT JOIN bag_nummeraanduidingen AS rel_nag2",
          "      ON rel_heeft_nevenadres.dst_id = rel_nag2._id AND rel_heeft_nevenadres.dst_volgnummer = rel_nag2.volgnummer",
          "      WHERE rel_heeft_nevenadres.eind_geldigheid > '2019-06-18' OR rel_heeft_nevenadres.eind_geldigheid IS NULL",
          "    ) AS heeft_nevenadres",
          "    ON vot.identificatie = heeft_nevenadres.src_id and vot.volgnummer = heeft_nevenadres.src_volgnummer",
          "    -- SELECT ligt_in_panden",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_pnd.identificatie,",
          "        rel_pnd.volgnummer,",
          "        rel_ligt_in_panden.src_id,",
          "        rel_ligt_in_panden.src_volgnummer",
          "      FROM rel_bag_vot_bag_pnd_ligt_in_panden AS rel_ligt_in_panden",
          "      LEFT JOIN bag_panden AS rel_pnd",
          "      ON rel_ligt_in_panden.dst_id = rel_pnd._id AND rel_ligt_in_panden.dst_volgnummer = rel_pnd.volgnummer",
          "      WHERE rel_ligt_in_panden.eind_geldigheid > '2019-06-18' OR rel_ligt_in_panden.eind_geldigheid IS NULL",
          "    ) AS ligt_in_panden",
          "    ON vot.identificatie = ligt_in_panden.src_id and vot.volgnummer = ligt_in_panden.src_volgnummer",
          "    -- SELECT ligt_in_bouwblok",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_bbk.identificatie,",
          "        rel_bbk.volgnummer,",
          "        rel_bbk.code,",
          "        rel_ligt_in_bouwblok.src_id,",
          "        rel_ligt_in_bouwblok.src_volgnummer",
          "      FROM rel_bag_pnd_gbd_bbk_ligt_in_bouwblok AS rel_ligt_in_bouwblok",
          "      LEFT JOIN gebieden_bouwblokken AS rel_bbk",
          "      ON rel_ligt_in_bouwblok.dst_id = rel_bbk._id AND rel_ligt_in_bouwblok.dst_volgnummer = rel_bbk.volgnummer",
          "      WHERE rel_ligt_in_bouwblok.eind_geldigheid > '2019-06-18' OR rel_ligt_in_bouwblok.eind_geldigheid IS NULL",
          "    ) AS ligt_in_bouwblok",
          "    ON ligt_in_panden.identificatie = ligt_in_bouwblok.src_id and ligt_in_panden.volgnummer = ligt_in_bouwblok.src_volgnummer",
          "    -- SELECT ligt_in_buurt",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_brt.identificatie,",
          "        rel_brt.volgnummer,",
          "        rel_brt.code,",
          "        rel_brt.naam,",
          "        rel_ligt_in_buurt.src_id,",
          "        rel_ligt_in_buurt.src_volgnummer",
          "      FROM rel_bag_vot_gbd_brt_ligt_in_buurt AS rel_ligt_in_buurt",
          "      LEFT JOIN gebieden_buurten AS rel_brt",
          "      ON rel_ligt_in_buurt.dst_id = rel_brt._id AND rel_ligt_in_buurt.dst_volgnummer = rel_brt.volgnummer",
          "      WHERE rel_ligt_in_buurt.eind_geldigheid > '2019-06-18' OR rel_ligt_in_buurt.eind_geldigheid IS NULL",
          "    ) AS ligt_in_buurt",
          "    ON vot.identificatie = ligt_in_buurt.src_id and vot.volgnummer = ligt_in_buurt.src_volgnummer",
          "    -- SELECT ligt_in_wijk",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_wijk.identificatie,",
          "        rel_wijk.volgnummer,",
          "        rel_wijk.code,",
          "        rel_wijk.naam,",
          "        rel_ligt_in_wijk.src_id,",
          "        rel_ligt_in_wijk.src_volgnummer",
          "      FROM rel_gbd_brt_gbd_wijk_ligt_in_wijk AS rel_ligt_in_wijk",
          "      LEFT JOIN gebieden_wijken AS rel_wijk",
          "      ON rel_ligt_in_wijk.dst_id = rel_wijk._id AND rel_ligt_in_wijk.dst_volgnummer = rel_wijk.volgnummer",
          "      WHERE rel_ligt_in_wijk.eind_geldigheid > '2019-06-18' OR rel_ligt_in_wijk.eind_geldigheid IS NULL",
          "    ) AS ligt_in_wijk",
          "    ON ligt_in_buurt.identificatie = ligt_in_wijk.src_id and ligt_in_buurt.volgnummer = ligt_in_wijk.src_volgnummer",
          "    -- SELECT ligt_in_stadsdeel",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_sdl.identificatie,",
          "        rel_sdl.volgnummer,",
          "        rel_sdl.code,",
          "        rel_sdl.naam,",
          "        rel_ligt_in_stadsdeel.src_id,",
          "        rel_ligt_in_stadsdeel.src_volgnummer",
          "      FROM rel_gbd_wijk_gbd_sdl_ligt_in_stadsdeel AS rel_ligt_in_stadsdeel",
          "      LEFT JOIN gebieden_stadsdelen AS rel_sdl",
          "      ON rel_ligt_in_stadsdeel.dst_id = rel_sdl._id AND rel_ligt_in_stadsdeel.dst_volgnummer = rel_sdl.volgnummer",
          "      WHERE rel_ligt_in_stadsdeel.eind_geldigheid > '2019-06-18' OR rel_ligt_in_stadsdeel.eind_geldigheid IS NULL",
          "    ) AS ligt_in_stadsdeel",
          "    ON ligt_in_wijk.identificatie = ligt_in_stadsdeel.src_id and ligt_in_wijk.volgnummer = ligt_in_stadsdeel.src_volgnummer",
          "    -- SELECT _ligt_in_ggwgebied",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_ggw.identificatie,",
          "        rel_ggw.volgnummer,",
          "        rel_ggw.code,",
          "        rel_ggw.naam,",
          "        rel_ligt_in_ggwgebied.src_id,",
          "        rel_ligt_in_ggwgebied.src_volgnummer",
          "      FROM rel_gbd_brt_gbd_ggw__ligt_in_ggwgebied AS rel_ligt_in_ggwgebied",
          "      LEFT JOIN gebieden_ggwgebieden AS rel_ggw",
          "      ON rel_ligt_in_ggwgebied.dst_id = rel_ggw._id AND rel_ligt_in_ggwgebied.dst_volgnummer = rel_ggw.volgnummer",
          "      WHERE rel_ligt_in_ggwgebied.eind_geldigheid > '2019-06-18' OR rel_ligt_in_ggwgebied.eind_geldigheid IS NULL",
          "    ) AS ligt_in_ggwgebied",
          "    ON ligt_in_buurt.identificatie = ligt_in_ggwgebied.src_id and ligt_in_buurt.volgnummer = ligt_in_ggwgebied.src_volgnummer",
          "    -- SELECT _ligt_in_ggpgebied",
          "    LEFT JOIN (",
          "      SELECT",
          "        rel_ggp.identificatie,",
          "        rel_ggp.volgnummer,",
          "        rel_ggp.code,",
          "        rel_ggp.naam,",
          "        rel_ligt_in_ggpgebied.src_id,",
          "        rel_ligt_in_ggpgebied.src_volgnummer",
          "      FROM rel_gbd_brt_gbd_ggp__ligt_in_ggpgebied AS rel_ligt_in_ggpgebied",
          "      LEFT JOIN gebieden_ggpgebieden AS rel_ggp",
          "      ON rel_ligt_in_ggpgebied.dst_id = rel_ggp._id AND rel_ligt_in_ggpgebied.dst_volgnummer = rel_ggp.volgnummer",
          "      WHERE rel_ligt_in_ggpgebied.eind_geldigheid > '2019-06-18' OR rel_ligt_in_ggpgebied.eind_geldigheid IS NULL",
          "    ) AS ligt_in_ggpgebied",
          "    ON ligt_in_buurt.identificatie = ligt_in_ggpgebied.src_id and ligt_in_buurt.volgnummer = ligt_in_ggpgebied.src_volgnummer",
          "    WHERE",
          "      vot._expiration_date > '2019-06-18' OR vot._expiration_date IS NULL"
        ]
      }
    }
  }
}
